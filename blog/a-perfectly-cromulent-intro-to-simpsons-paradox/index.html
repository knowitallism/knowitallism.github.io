<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>A Perfectly Cromulent Intro to Simpson's Paradox | Joshua Hernandez's Blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://joshuahernandezblog.com/blog/a-perfectly-cromulent-intro-to-simpsons-paradox/">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><!-- Global Site Tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-107266843-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-107266843-1');
</script><meta name="author" content="Joshua Hernandez">
<meta property="og:site_name" content="Joshua Hernandez's Blog">
<meta property="og:title" content="A Perfectly Cromulent Intro to Simpson's Paradox">
<meta property="og:url" content="http://joshuahernandezblog.com/blog/a-perfectly-cromulent-intro-to-simpsons-paradox/">
<meta property="og:description" content="In this post, we will go over one of my favorite statistical phenomenons, Simpson's paradox, using interactive data modules.  












Table of Contents¶1  The Paradox1.1  What Is Simpson's Parado">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-09-15T01:57:28-04:00">
<meta property="article:tag" content="Quick Post">
<meta property="article:tag" content="Statistics">
</head>
<body>
    <section class="social"><ul>
<li><a href="../../index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="../../archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="../../categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="../../rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="../../about-me/index.html" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="#" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
    <div class="post">
        <h1 class="p-name entry-title" itemprop="headline name">A Perfectly Cromulent Intro to Simpson's Paradox</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2017-09-15T01:57:28-04:00">2017-09-15 01:57</time>
            
                      |  
        <a href="index.ipynb" id="sourcelink">Source</a>

            </div>
                    <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../../categories/quick-post/" rel="tag">Quick Post</a></li>
           <li><a class="tag p-category" href="../../categories/statistics/" rel="tag">Statistics</a></li>
        </ul>
</div>

        </div>
        <div class="body">
            <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><i>In this post, we will go over one of my favorite statistical phenomenons, Simpson's paradox, using interactive data modules.  </i>
<!--TEASER_END--></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Table-of-Contents">Table of Contents<a class="anchor-link" href="#Table-of-Contents">¶</a>
</h2>
<div class="toc" style="margin-top: 1em;"><ul class="toc-item" id="toc-level0">
<li>
<span><a href="#The-Paradox" data-toc-modified-id="The-Paradox-1"><span class="toc-item-num">1  </span>The Paradox</a></span><ul class="toc-item"><li><span><a href="#What-Is-Simpson's-Paradox?" data-toc-modified-id="What-Is-Simpson's-Paradox?-1.1"><span class="toc-item-num">1.1  </span>What Is Simpson's Paradox?</a></span></li></ul>
</li>
<li>
<span><a href="#What-Causes-Simpson's-Paradoc-to-Occur" data-toc-modified-id="What-Causes-Simpson's-Paradoc-to-Occur-2"><span class="toc-item-num">2  </span>What Causes Simpson's Paradoc to Occur</a></span><ul class="toc-item">
<li><span><a href="#Unequal-Distribution" data-toc-modified-id="Unequal-Distribution-2.1"><span class="toc-item-num">2.1  </span>Unequal Distribution</a></span></li>
<li><span><a href="#Conditioning-On-A-Collider" data-toc-modified-id="Conditioning-On-A-Collider-2.2"><span class="toc-item-num">2.2  </span>Conditioning On A Collider</a></span></li>
</ul>
</li>
<li><span><a href="#How-Does-This-Apply-to-Data-Science?" data-toc-modified-id="How-Does-This-Apply-to-Data-Science?-3"><span class="toc-item-num">3  </span>How Does This Apply to Data Science?</a></span></li>
<li><span><a href="#Further-Reading" data-toc-modified-id="Further-Reading-4"><span class="toc-item-num">4  </span>Further Reading</a></span></li>
</ul></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-Paradox">The Paradox<a class="anchor-link" href="#The-Paradox">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="What-Is-Simpson's-Paradox?">What Is Simpson's Paradox?<a class="anchor-link" href="#What-Is-Simpson's-Paradox?">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> In technical terms, Simpson's paradox "refers to a phenomenon whereby the the association between a pair of variables (X, Y) reverses sign upon conditioning of a third variable, Z, regardless of the value taken by Z"(Pearl 1). What this means is that we can observe one trend when we are looking at our data in aggregate and a completely different trend when we segment our data set.</p>
<p> A classic example of Simpson's paradox comes from the UC Berkley gender discrimination case. The graph bellow shows the admissions results from 6 UCB graduate departments in 1973, sorted by gender. As you can see, when we look at the raw statistics men are 15% more likely to be admitted than women. </p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"> </div>


<div class="output_html rendered_html output_subarea ">
  <iframe src="AdmissionRates.html" width=100% height="500" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"></iframe>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> However, if you hit the "split" button to look at the admission results by individual department, you will notice that women are actually more likely to be admitted than men in 4 out of 6 departments. So if we look at admission rates by gender we reach the conclusion that men are more likely to be admitted, but if we split by gender and department, we conclude that women are more likely to be admitted. That's Simpson's paradox in action.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-Causes-Simpson's-Paradoc-to-Occur">What Causes Simpson's Paradoc to Occur<a class="anchor-link" href="#What-Causes-Simpson's-Paradoc-to-Occur">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Unequal-Distribution">Unequal Distribution<a class="anchor-link" href="#Unequal-Distribution">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> A common cause of Simpson's Paradox is assuming that there is uniform distribution among subpopulations. Returning to the UC Berkley example above, it is easy to be perplexed by the results if you assume that the male and female applicants are behaving uniformly. However, when we look at the distribution of applicants by department</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"> </div>


<div class="output_html rendered_html output_subarea ">
  <iframe src="Applications.html" width=100% height="500" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"></iframe>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> We see that men and women had very different preferences for which department they were applying to.</p>
<p> Furthermore, when we look at the general admissions rates for each department </p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"> </div>


<div class="output_html rendered_html output_subarea ">
  <iframe src="plot.html" width=100% height="500" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"></iframe>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> We see that departments A and B had the highest admissions rate, but were the least popular departments among female applicants, while more competitive departments had a higher proportion by female applicants. In contrast, 50% of men applied to the departments with the highest acceptance rates.</p>
<p> The difference in distribution allows us to resolve the paradox. Women could have a higher admissions rate by department but a lower admissions rate overall compared to men because the female applicants were overrepresented in highly selective programs, causing a misleading average result. This process can be visualized in the animations bellow, which combines the departments from left to right.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"> </div>


<div class="output_html rendered_html output_subarea ">
<iframe src="AdmissionsCount.html" width=100% height="800" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"></iframe>
</div>

</div>

<div class="output_area">

<div class="prompt"> </div>


<div class="output_html rendered_html output_subarea ">
<iframe src="AdmissionsCountMen.html" width=100% height="800" id="igraph" scrolling="no" seamless="seamless" frameBorder="0"></iframe>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> Now that you know that segmented data and aggregate data can give contradictory results, you may be wondering which result to believe. Most articles I have read on Simpson's paradox focus on cases where aggregating the data causes a false conclusion and the segmented data gives the correct result. However, this is misleading. As we will see, it is possible for the aggregated data to give the incorrect result, the segmented data to give an incorrect result, or for both results to be incorrect. In order to know which result is correct, we need to know what's causing the paradox to occur in the data.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Conditioning-On-A-Collider">Conditioning On A Collider<a class="anchor-link" href="#Conditioning-On-A-Collider">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> In statistics, when two variables are correlated, this could be because the variables are causally linked or it could be because there is a hidden variable linking the two. For example, smoking stains teeth and smoking causes lung cancer, so we may find a correlation between having lung cancer and stained teeth, even though having stained teeth doesn't cause lung cancer. In this example, smoking is called a confounder, because it influences both the dependent and independent variable.Conditioning on a confounder generally produces more meaningful results. E.g. if we look at stained teeth vs. lung cancer in a population of pure smokers or nonsmokers, we expect the correlation to disappear because we have accounted for the hidden variable. </p>
<p> But what happens if the situation is reversed, if our dependent variable, A, and independent variable, B, both cause a third variable, C, to happen? Well, in this case, C is called a collider because it is caused by both the dependent and independent variable, and conditioning on a collider can cause statistical correlations to appear when there should be none or negate correlations that should exist. So when we partition our data on a collider, we can obtain misleading correlations. Unfortunately, sometimes people will partition their data on a collider thinking that is is a confounder, since they can be hard to distinguish. </p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-Does-This-Apply-to-Data-Science?">How Does This Apply to Data Science?<a class="anchor-link" href="#How-Does-This-Apply-to-Data-Science?">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p> The interesting thing about Simpson's paradox is that there is no mathematical rule to determine whether you should use the aggregate statistic or the segmented statistic. It is essentially up to the statistician to use the context of the situation to determine which statistic is correct to use. This is why I love Simpson's paradox so much; not only is it an example of how counterintuitive statistics can be, it is also a reminder that it is our job to always take context into consideration when working with statistics. </p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Further-Reading">Further Reading<a class="anchor-link" href="#Further-Reading">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://normaldeviate.wordpress.com/2013/06/20/simpsons-paradox-explained/">Normal Deviate</a> A more mathematical explanation of Simpson's paradox</p>
<p><a href="http://blog.vctr.me/posts/simpsons-paradox.html">Victor Powel's Blog </a> has some great visualizations for Simpson's paradox. I modeled my visualizations off of his.</p>
<p><a href="http://ftp.cs.ucla.edu/pub/stat_ser/r414.pdf">Understanding Simpson’s Paradox</a> by Judea Pearl is an academic paper that goes into the history and implications of the paradox</p>
<p><a href="https://en.wikipedia.org/wiki/Simpson%27s_paradox">The Wikipedia page</a> gives a brief overview of Simpson's paradox and provides multiple real-world instances of Simpson's paradox in action.</p>

</div>
</div>
</div>
    </div>
  </div>

        </div>
                <ul class="pager hidden-print">
<li class="previous">
                <a href="../youve-got-mail-building-a-spam-filter-with-r/" rel="prev" title="You've Got Mail: Building a Spam Filter with R">Previous post</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="joshuahernandezblog",
            disqus_url="http://joshuahernandezblog.com/blog/a-perfectly-cromulent-intro-to-simpsons-paradox/",
        disqus_title="A Perfectly Cromulent Intro to Simpson's Paradox",
        disqus_identifier="cache/posts/a-perfectly-cromulent-intro-to-simpsons-paradox.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
                     <footer id="footer"><p>Contents © 2017         <a href="mailto:Joshua.M.S.Hernandez@gmail.com">Joshua Hernandez</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="../../assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script><script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
    </script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
